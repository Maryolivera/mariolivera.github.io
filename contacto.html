<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="estilo.css">

 
</head>
<body> 
    <header class="encabezado">
    
    <h1>SANTA MARIA CARNES</h1>
    
     <h2>LA MEJOR CALIDAD AL MENOR PRECIO</h2>
         

     <nav> 
        <ul>
          <li> <a href="index.html">inicio</a></li>
          <li><a href="ofertas.html">ofertas</a></li>
          <li><a href="contacto.html">contacto</a></li>
       </ul>
     </nav>
</header>

    


 <div class="formulario">
 
    <h2>Contacto</h2>
    <form onsubmit="return validar()">
        
        <label for="nombre" >Nombre:</label>
        <input type="text" id ="nombre" name="nombre"><br>

        <label for="mail">Mail:</label>
        <input type="email" id="mail" name="mail"><br>

        <label for="mensaje">Mensaje:</label>
        <input type="text" id="mensaje" name="mensaje"><br><br>

        <input type="submit" value="Enviar">
    </form>

    <ul id="ltaErrores"></ul>
    <ol id="ltaMensajes"></ol>
    
  </div>
    
 
    
 <script>
    function validar(){
        let sinError=true;
        let nombre= document.getElementById("nombre");
        let mensaje=document.getElementById("mensaje");
        let mail=document.getElementById("mail");
        let ltaErrores=document.getElementById("ltaErrores");
        let ltaMensajes=document.getElementById("ltaMensajes");

        ltaErrores.innerHTML="";
        nombre.classList.remove("error");
        mensaje.classList.remove("error");
        mail.classList.remove("error");
    
        if (nombre.value.trim()==""){
            console.log("nombre invalido");
            let item=document.createElement("li");
            ltaErrores.appendChild(item);
            item.innerHTML="Nombre Invalido";
            nombre.classList.add("error");
            sinError=false;
        }
    
        if (mensaje.value.trim()=="" || mensaje.value.length > 200){
            console.log("mensaje invalido");
            let item=document.createElement("li");
            ltaErrores.appendChild(item);
            item.innerHTML="Mensaje invalido";
            mensaje.classList.add("error");
            sinError=false;
        }

        
        let er= /^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;
        if( !er.test(mail.value))
        {
             console.log("mail invalido");
             let item=document.createElement("li");
             ltaErrores.appendChild(item);
             item.innerHTML="mail invalido";
             mail.classList.add("error")
             sinError=false;
        }
        


        if(sinError){
            let item=document.createElement("li");
            ltaMensajes.appendChild(item);
            item.innerHTML=nombre.value+" <b>escribio :</b>"+mensaje.value;
            mensaje.value="";
            mail.value="";
            nombre.value="";
           
        
            mensaje.focus();
        }
    
    
        
        return false;
        
    
    }
 </script>
    
    

</body>
</html>
